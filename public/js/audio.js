// Generated by CoffeeScript 1.7.1
(function() {
  var context, osc_node, socket;

  context = new window.AudioContext();

  socket = io.connect();

  navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

  context = new (window.AudioContext || window.webkitAudioContext)();

  osc_node = context.createOscillator();

  osc_node.connect(context.destination);

  navigator.getUserMedia({
    audio: true
  }, function(stream) {
    var recorder;
    recorder = new MediaRecorder(stream);
    recorder.start(1000);
    return recorder.ondataavailable = (function(event) {
      return socket.emit("audio", event.data);
    });
  }, function(error) {
    return console.log(error);
  });

}).call(this);
